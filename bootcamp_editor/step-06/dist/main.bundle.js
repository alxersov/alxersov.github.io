!function(e){function t(t){for(var r,s,i=t[0],c=t[1],p=t[2],l=0,d=[];l<i.length;l++)s=i[l],o[s]&&d.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);d.length;)d.shift()();return a.push.apply(a,p||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={1:0},a=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var p=0;p<i.length;p++)t(i[p]);var u=c;a.push([216,0]),n()}({204:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(42),s=n(110),i=n(88),c=n(85),p=n(78),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(a.DragDropContextProvider,{backend:s.default},o.createElement("div",{className:i.pane},o.createElement(c.default,null),o.createElement(p.Canvas,null)))},t}(o.Component);t.EditingPane=u},216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(68),a=n(27),s=n(26),i=n(204),c=n(75),p=s.createStore(c.reducer);o.render(r.createElement(a.Provider,{store:p},r.createElement(i.EditingPane,null)),document.getElementById("editor"))},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SELECT_SHAPE="SELECT_SHAPE",t.DROP_SHAPE="DROP_SHAPE",t.SELECT_SHAPE_ON_CANVAS="SELECT_SHAPE_ON_CANVAS",t.MOVE_SHAPE_ON_CANVAS="MOVE_SHAPE_ON_CANVAS",t.BRING_SHAPE_TO_FRONT="BRING_SHAPE_TO_FRONT",t.PUSH_SHAPE_BACK="PUSH_SHAPE_BACK",t.selectShapeOnPalette=function(e){return{type:t.SELECT_SHAPE,shapeType:e}},t.dropShapeToCanvas=function(e,n,r){return{type:t.DROP_SHAPE,shapeType:e,x:n,y:r}},t.selectShapeOnCanvas=function(e){return{type:t.SELECT_SHAPE_ON_CANVAS,index:e}},t.moveShapeOnCanvas=function(e,n){return{type:t.MOVE_SHAPE_ON_CANVAS,dx:e,dy:n}},t.bringShapeToFront=function(){return{type:t.BRING_SHAPE_TO_FRONT}},t.pushShapeBack=function(){return{type:t.PUSH_SHAPE_BACK}}},29:function(e,t,n){var r=n(81);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(13)(r,o);r.locals&&(e.exports=r.locals)},44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Circle=1]="Circle",e[e.Square=2]="Square",e[e.Triangle=3]="Triangle"}(t.ShapeType||(t.ShapeType={}))},45:function(e,t,n){var r=n(84);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(13)(r,o);r.locals&&(e.exports=r.locals)},5:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(82),s=n(80),i=n(79),c=n(44);t.ShapeSize=60,t.shapeFactory=function(e,t,n){switch(e){case c.ShapeType.Circle:return o.createElement(a.Circle,r({},t,{key:n}));case c.ShapeType.Square:return o.createElement(i.Square,r({},t,{key:n}));case c.ShapeType.Triangle:return o.createElement(s.Triangle,r({},t,{key:n}))}}},75:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a={palette:{selectedShapeType:void 0},canvas:{shapes:[],selectedShapeIndex:null}};function s(e,t){return e.slice(0,t).concat([e[t+1],e[t]],e.slice(t+2))}t.reducer=function(e,t){return void 0===e&&(e=a),{palette:function(e,t){switch(t.type){case o.SELECT_SHAPE:return{selectedShapeType:t.shapeType}}return e}(e.palette,t),canvas:function(e,t){switch(t.type){case o.DROP_SHAPE:var n=t;return{selectedShapeIndex:e.shapes.length,shapes:e.shapes.concat([{shapeType:n.shapeType,x:n.x,y:n.y,id:e.shapes.length}])};case o.SELECT_SHAPE_ON_CANVAS:return r({},e,{selectedShapeIndex:t.index});case o.MOVE_SHAPE_ON_CANVAS:var a=t;return r({},e,{shapes:e.shapes.map(function(t,n){return n===e.selectedShapeIndex?r({},t,{x:t.x+a.dx,y:t.y+a.dy}):t})});case o.BRING_SHAPE_TO_FRONT:return null===e.selectedShapeIndex||e.selectedShapeIndex>=e.shapes.length-1?e:{selectedShapeIndex:e.selectedShapeIndex+1,shapes:s(e.shapes,e.selectedShapeIndex)};case o.PUSH_SHAPE_BACK:return null===e.selectedShapeIndex||0===e.selectedShapeIndex?e:{selectedShapeIndex:e.selectedShapeIndex-1,shapes:s(e.shapes,e.selectedShapeIndex-1)}}return e}(e.canvas,t)}}},76:function(e,t,n){(t=e.exports=n(14)(!1)).push([e.i,"._2bTo-z2lWl-UOWbhKGmbaR {\n  width: 100%;\n  background-color: cornsilk;\n  margin: 50px;\n  border: 1px solid #999;\n}\n",""]),t.locals={canvas:"_2bTo-z2lWl-UOWbhKGmbaR"}},77:function(e,t,n){var r=n(76);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(13)(r,o);r.locals&&(e.exports=r.locals)},78:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(68),s=n(42),i=n(27),c=n(77),p=n(28),u=n(5),l={drop:function(e,t,n){var r=a.findDOMNode(n).getBoundingClientRect(),o=t&&t.getSourceClientOffset();return{name:"Canvas",x:o.x-r.x,y:o.y-r.y}}};var d=function(e){function t(t){var n=e.call(this,t)||this;return n.renderShape=function(e,t){var r=n.props.selectedShapeIndex,o=e.x,a=e.y,s=t===r;return s&&(o+=n.state.selectedFigureOffset.dx,a+=n.state.selectedFigureOffset.dy),u.shapeFactory(e.shapeType,{x:o,y:a,isSelected:s,onMouseDown:function(e){n.mouseDownHandler(t,e.clientX,e.clientY),e.preventDefault(),e.stopPropagation()}},e.id)},n.mouseMoveHandler=function(e){if(n.state.movementStartPoint){var t=n.state.movementStartPoint,r=t.x,o=t.y;n.setState({selectedFigureOffset:{dx:e.clientX-r,dy:e.clientY-o}})}},n.mouseUpHandler=function(){document.removeEventListener("mousemove",n.mouseMoveHandler),document.removeEventListener("mouseup",n.mouseUpHandler);var e=n.state.selectedFigureOffset,t=e.dx,r=e.dy;n.props.moveShapeOnCanvas(t,r),n.setState({selectedFigureOffset:{dx:0,dy:0}})},n.mouseDownHandler=function(e,t,r){n.props.selectShapeOnCanvas(e),n.setState({movementStartPoint:{x:t,y:r}}),document.addEventListener("mouseup",n.mouseUpHandler),document.addEventListener("mousemove",n.mouseMoveHandler)},n.mouseDownCanvasHandler=function(){n.props.selectShapeOnCanvas(null)},n.state={movementStartPoint:null,selectedFigureOffset:{dx:0,dy:0}},n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.connectDropTarget,n=e.shapes;return t(o.createElement("svg",{onMouseDown:this.mouseDownCanvasHandler,className:c.canvas},n.map(this.renderShape)))},t}(o.Component);t.CanvasBase=d,t.Canvas=i.connect(function(e){return{shapes:e.canvas.shapes,selectedShapeIndex:e.canvas.selectedShapeIndex}},{selectShapeOnCanvas:p.selectShapeOnCanvas,moveShapeOnCanvas:p.moveShapeOnCanvas})(s.DropTarget("SHAPE",l,function(e){return{connectDropTarget:e.dropTarget()}})(d))},79:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(29),s=n(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r=e.isSelected,i=e.onMouseDown,c=[a.shape];return r&&c.push(a.selected),o.createElement("rect",{x:t,y:n,width:s.ShapeSize,height:s.ShapeSize,className:c.join(" "),onMouseDown:i})},t}(o.Component);t.Square=i,t.default=i},80:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(29),s=n(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=.86*s.ShapeSize,t=this.props,n=t.x,r=t.y,i=t.isSelected,c=t.onMouseDown,p=[a.shape];i&&p.push(a.selected);var u=[[n+s.ShapeSize/2,r].join(","),[n,r+e].join(","),[n+s.ShapeSize,r+e].join(",")];return o.createElement("polygon",{points:u.join(" "),className:p.join(" "),onMouseDown:c})},t}(o.Component);t.Triangle=i,t.default=i},81:function(e,t,n){(t=e.exports=n(14)(!1)).push([e.i,"._2W3SyxXx88rn65fYkjsptt {\n  stroke: #444;\n  stroke-width: 1px;\n  fill: #dfe3fb;\n}\n\n.webSsCSM204BQ_BbLl7yD {\n  outline: 1px solid red;\n  outline-offset: 2px;\n}\n",""]),t.locals={shape:"_2W3SyxXx88rn65fYkjsptt",selected:"webSsCSM204BQ_BbLl7yD"}},82:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(29),s=n(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r=e.isSelected,i=e.onMouseDown,c=[a.shape];return r&&c.push(a.selected),o.createElement("circle",{cx:t+s.ShapeSize/2,cy:n+s.ShapeSize/2,r:s.ShapeSize/2,className:c.join(" "),onMouseDown:i})},t}(o.Component);t.Circle=i,t.default=i},83:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(45),s=n(42),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickHandler=function(){t.props.onClick(t.props.shapeType)},t}return r(t,e),t.prototype.render=function(){return(0,this.props.connectDragSource)(o.createElement("button",{onClick:this.clickHandler,className:a.paletteItem},o.createElement("svg",{width:100,height:100},this.props.children)))},t}(o.Component);t.default=s.DragSource("SHAPE",{beginDrag:function(e){return{shapeType:e.shapeType}},endDrag:function(e,t){if(t.didDrop()){var n=t.getDropResult();(0,e.onDrop)(e.shapeType,n.x,n.y)}}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(i)},84:function(e,t,n){(t=e.exports=n(14)(!1)).push([e.i,"._3YC3hWq0H4vq5pZ28ByrQN {\n  width: 100px;\n  background-color: azure;\n  border-right: 1px solid #999;\n  text-align: center;\n}\n\n._1TjWVtqLG9Aoriw0AGi_sd {\n  border: none;\n  background: transparent;\n  padding: 0;\n  margin: 0;\n}\n\n._1TjWVtqLG9Aoriw0AGi_sd:focus {\n  outline: none;\n}\n\n._2QcWm2lXuG6YSIxpzYTcFF {\n  border-top: 1px solid #999;\n  padding-top: 20px;\n}\n\n._1Vj-CPbKVK1bbVpMhU4wus {\n  width: 92px;\n}\n",""]),t.locals={palette:"_3YC3hWq0H4vq5pZ28ByrQN",paletteItem:"_1TjWVtqLG9Aoriw0AGi_sd",layerButtonContainer:"_2QcWm2lXuG6YSIxpzYTcFF",layerButton:"_1Vj-CPbKVK1bbVpMhU4wus"}},85:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(45),s=n(27),i=n(83),c=n(5),p=n(28),u=n(44);var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PaletteItemPadding=20,t.clickHandler=function(e){t.props.selectShapeOnPalette(e)},t.dropHandler=function(e,n,r){t.props.dropShapeToCanvas(e,n+t.PaletteItemPadding,r+t.PaletteItemPadding)},t.bringFrontClickHandler=function(){t.props.bringShapeToFront()},t.pushShapeBack=function(){t.props.pushShapeBack()},t}return r(t,e),t.prototype.render=function(){var e=this.props.isShapeOnCanvasSelected;return o.createElement("div",{className:a.palette},this.renderPaletteItem(u.ShapeType.Circle),this.renderPaletteItem(u.ShapeType.Square),this.renderPaletteItem(u.ShapeType.Triangle),e&&this.renderLayerButtons())},t.prototype.renderPaletteItem=function(e){var t=this.props.selectedShapeType;return o.createElement(i.default,{shapeType:e,onClick:this.clickHandler,onDrop:this.dropHandler},c.shapeFactory(e,{x:this.PaletteItemPadding,y:this.PaletteItemPadding,isSelected:t===e},e))},t.prototype.renderLayerButtons=function(){var e=this.props,t=e.selectedShapeLayer,n=e.isFirstLayerSelected,r=e.isLastLayerSelected;return o.createElement("div",{className:a.layerButtonContainer},"Layer: ",t,o.createElement("br",null),o.createElement("button",{onClick:this.bringFrontClickHandler,className:a.layerButton,disabled:r},"Bring To Front"),o.createElement("button",{onClick:this.pushShapeBack,className:a.layerButton,disabled:n},"Push Back"))},t}(o.Component);t.default=s.connect(function(e){return{selectedShapeType:e.palette.selectedShapeType,isShapeOnCanvasSelected:null!==e.canvas.selectedShapeIndex,selectedShapeLayer:e.canvas.selectedShapeIndex,isFirstLayerSelected:0===e.canvas.selectedShapeIndex,isLastLayerSelected:e.canvas.selectedShapeIndex===e.canvas.shapes.length-1}},{selectShapeOnPalette:p.selectShapeOnPalette,dropShapeToCanvas:p.dropShapeToCanvas,bringShapeToFront:p.bringShapeToFront,pushShapeBack:p.pushShapeBack})(l)},87:function(e,t,n){(t=e.exports=n(14)(!1)).push([e.i,".sqNoBzAHLuAveuyemUu4X {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  background-color: #e8e8e8;\n}\n",""]),t.locals={pane:"sqNoBzAHLuAveuyemUu4X"}},88:function(e,t,n){var r=n(87);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(13)(r,o);r.locals&&(e.exports=r.locals)}});
//# sourceMappingURL=main.bundle.js.map